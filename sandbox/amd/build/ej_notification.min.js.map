{"version":3,"file":"ej_notification.min.js","sources":["../src/ej_notification.js"],"sourcesContent":["/**\n * Ejercicio 1: core/notification\n *\n * @module     local_sandbox/ej_notification\n * @copyright  2026 Tu Nombre\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['core/notification'], function(Notification) {\n    'use strict';\n\n    /**\n     * Inicializa los event listeners de los botones.\n     */\n    function init() {\n        // ---------------------------------------------------\n        // 1. Notificaciones inline (aparecen arriba de la página)\n        // ---------------------------------------------------\n\n        document.getElementById('btn-success').addEventListener('click', function() {\n            // addNotification añade una notificación visible en la página\n            Notification.addNotification({\n                message: 'Operación completada con éxito. Los datos se han guardado.',\n                type: 'success'   // Tipos: 'success', 'error', 'warning', 'info'\n            });\n        });\n\n        document.getElementById('btn-error').addEventListener('click', function() {\n            Notification.addNotification({\n                message: 'Error: no se pudo conectar con el servidor. Inténtalo de nuevo.',\n                type: 'error'\n            });\n        });\n\n        document.getElementById('btn-warning').addEventListener('click', function() {\n            Notification.addNotification({\n                message: 'Advertencia: los cambios no guardados se perderán.',\n                type: 'warning'\n            });\n        });\n\n        document.getElementById('btn-info').addEventListener('click', function() {\n            Notification.addNotification({\n                message: 'Información: el sistema se actualizará esta noche a las 02:00.',\n                type: 'info'\n            });\n        });\n\n        // ---------------------------------------------------\n        // 2. Notificación con redirección\n        //    fetchNotifications() recupera notificaciones pendientes de sesión\n        // ---------------------------------------------------\n\n        document.getElementById('btn-redirect').addEventListener('click', function() {\n            // En un caso real, harías una llamada AJAX, guardarías algo,\n            // y luego redirigirías. Aquí simulamos con addNotification\n            // seguido de un reload.\n            Notification.addNotification({\n                message: 'Datos guardados. Recargando página...',\n                type: 'success'\n            });\n\n            // Esperar 1.5 segundos y recargar\n            setTimeout(function() {\n                window.location.reload();\n            }, 1500);\n        });\n\n        // ---------------------------------------------------\n        // 3. Alert modal (diálogo que el usuario debe cerrar)\n        // ---------------------------------------------------\n\n        document.getElementById('btn-alert').addEventListener('click', function() {\n            Notification.alert(\n                'Título del Alert',                          // título\n                'Este es un diálogo de alerta de Moodle. ' + // mensaje\n                'El usuario debe cerrarlo para continuar.',\n                'Entendido'                                  // texto del botón\n            );\n        });\n\n        // ---------------------------------------------------\n        // 4. Confirm modal (diálogo con Sí/No)\n        // ---------------------------------------------------\n\n        document.getElementById('btn-confirm').addEventListener('click', function() {\n            Notification.confirm(\n                'Confirmar acción',                           // título\n                '¿Estás seguro de que quieres eliminar este elemento? ' +\n                'Esta acción no se puede deshacer.',\n                'Sí, eliminar',                               // texto botón confirmar\n                'Cancelar',                                   // texto botón cancelar\n                function() {\n                    // Callback: el usuario pulsó \"Sí\"\n                    var result = document.getElementById('confirm-result');\n                    result.style.display = 'block';\n                    result.className = 'mt-2 p-2 alert alert-success';\n                    result.textContent = 'El usuario confirmó la eliminación.';\n                },\n                function() {\n                    // Callback: el usuario pulsó \"Cancelar\"\n                    var result = document.getElementById('confirm-result');\n                    result.style.display = 'block';\n                    result.className = 'mt-2 p-2 alert alert-warning';\n                    result.textContent = 'El usuario canceló la acción.';\n                }\n            );\n        });\n\n        // Log para confirmar que el módulo se cargó\n        window.console.log('[ej_notification] Módulo inicializado correctamente.');\n    }\n\n    // Exponemos la función init\n    return {\n        init: init\n    };\n});"],"names":["define","Notification","init","document","getElementById","addEventListener","addNotification","message","type","setTimeout","window","location","reload","alert","confirm","result","style","display","className","textContent","console","log"],"mappings":";;;;;;;AAOAA,uCAAO,CAAC,sBAAsB,SAASC,oBA0G5B,CACHC,gBAhGAC,SAASC,eAAe,eAAeC,iBAAiB,SAAS,WAE7DJ,aAAaK,gBAAgB,CACzBC,QAAS,6DACTC,KAAM,eAIdL,SAASC,eAAe,aAAaC,iBAAiB,SAAS,WAC3DJ,aAAaK,gBAAgB,CACzBC,QAAS,kEACTC,KAAM,aAIdL,SAASC,eAAe,eAAeC,iBAAiB,SAAS,WAC7DJ,aAAaK,gBAAgB,CACzBC,QAAS,qDACTC,KAAM,eAIdL,SAASC,eAAe,YAAYC,iBAAiB,SAAS,WAC1DJ,aAAaK,gBAAgB,CACzBC,QAAS,iEACTC,KAAM,YASdL,SAASC,eAAe,gBAAgBC,iBAAiB,SAAS,WAI9DJ,aAAaK,gBAAgB,CACzBC,QAAS,wCACTC,KAAM,YAIVC,YAAW,WACPC,OAAOC,SAASC,WACjB,SAOPT,SAASC,eAAe,aAAaC,iBAAiB,SAAS,WAC3DJ,aAAaY,MACT,mBACA,mFAEA,gBAQRV,SAASC,eAAe,eAAeC,iBAAiB,SAAS,WAC7DJ,aAAaa,QACT,mBACA,yFAEA,eACA,YACA,eAEQC,OAASZ,SAASC,eAAe,kBACrCW,OAAOC,MAAMC,QAAU,QACvBF,OAAOG,UAAY,+BACnBH,OAAOI,YAAc,yCAEzB,eAEQJ,OAASZ,SAASC,eAAe,kBACrCW,OAAOC,MAAMC,QAAU,QACvBF,OAAOG,UAAY,+BACnBH,OAAOI,YAAc,sCAMjCT,OAAOU,QAAQC,IAAI"}